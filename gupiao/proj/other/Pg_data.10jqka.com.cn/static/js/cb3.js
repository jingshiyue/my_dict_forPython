var scrollListenArr=[],hoverEvent,adEvent,clickEvent,taScrollListen=function(){$(document).on("scroll",function(){var a=0,d=0,f=$(window).height(),e=$(document).scrollTop(),c;for(c in scrollListenArr){var b=$("#"+scrollListenArr[c].id+"-listen");if(!(b.hasClass("scroll-ta-over")||1>b.length))a=b.offset().top,d=b.outerHeight(),e<a&&e+f>=a+d/2&&(TAN.log({id:totalPageId+"-"+scrollListenArr[c].id+"-all-view-0-0",ifjump:"0",url_ver:"THSNEWS-7105"}),b.addClass("scroll-ta-over"))}})};
$(document).ready(function(){"undefined"!=typeof TAN&&0<$(".fid-scroll-box").length&&($(".fid-scroll-box").each(function(){var a=[];a.id=$(this).attr("scroll-fid");a.id&&scrollListenArr.push(a)}),0<scrollListenArr.length&&taScrollListen());TAN.log({id:totalPageId+"-show",ifjump:"0",url_ver:"THSNEWS-7105"})});
(function(g,e,f){var b={posflag:!0,settings:{},init:function(a){return this.each(function(){var c=f(this);b.settings=f.extend(!0,{},a);var d;b.createDom(a,function(a){a=a.attr("id");d=f("body").find("#"+a)});a&&a.fresh&&b.roundHover(c);b.operate(c,d);b.itemClick(d);b.hoverListen();b.userNameClick()})},userNameClick:function(){f("#J_username").click(function(){"undefined"!=typeof TA&&TA.log({id:"grxlk_djid",fid:"grxlk_djall",nj:1})})},hoverListen:function(){g.personTagsHover=0;f(".person_infos").hover(function(){g.personTagsHoverTime=
(new Date).getTime()},function(){1E3<(new Date).getTime()-g.personTagsHoverTime&&TA.log({id:"grxlk_yr",nj:1})})},itemClick:function(a){a=a.find("li");f.each(a,function(a,d){var b=f(d).find("a");b.on("click",function(){b.hasClass("freshIcon")&&b.removeClass("freshIcon")})})},roundHover:function(a){var c=a.height()-28;0<c&&a.css("background-position","right "+c+"px");a.on("mouseenter",function(){a.hasClass("freshIcon")&&a.removeClass("freshIcon")})},getAimPos:function(a,c){var d,h,e=f(g).width();d=
a.width();h=a.offset();var i=c.width(),e=e-h.left-d/2-2*(i/3);d=0<=e?h.left+d/2-i/3:h.left+d/2-i/3+e;h=(h=b.settings.container)?f("."+h).outerHeight():a.height();c.css({left:d,top:h});b.judgeFix(a,c)},judgeFix:function(a,c){var d=a.parents(".topheader"),b=a.parents(".topHeader-log");(0<d.length||0<b.length)&&c.css("position","fixed")},operate:function(a,c){b.hideAndShow(a,c);b.hideAndShow(c)},hideAndShow:function(a,c){c||(c=a);a.on("mouseenter",function(){if(b.posflag)b.posflag=!1,b.getAimPos(a,c);
c.removeClass("hide")}).on("mouseleave",function(){c.addClass("hide")})},createDom:function(a,c){var b="";a&&a.fresh&&(b="freshIcon");b='<div class="person_infos hide" id="person_infos"><div class="triangle"></div><ul><li class="s_choice"><a href="http://stock.10jqka.com.cn/my/" target="_blank" class="'+b+"\" onclick=\"TA.log({'id':'grxlk_djzx','fid':'grxlk_djall','nj':1});\">我的自选</a></li><li class=\"s_famouse\"><a href=\"http://stock.10jqka.com.cn/my/focus.shtml\" target=\"_blank\" onclick=\"TA.log({'id':'grxlk_djmj','fid':'grxlk_djall','nj':1});\">我的名家</a></li><li class=\"s_round\"><a href=\"http://t.10jqka.com.cn/newcircle/user/joinedCircle/\" target=\"_blank\" onclick=\"TA.log({'id':'grxlk_djqz','fid':'grxlk_djall','nj':1});\">加入的圈子</a></li><li class=\"b_methods\"><a href=\"http://t.10jqka.com.cn/newcircle/user/myBook/\" target=\"_blank\" onclick=\"TA.log({'id':'grxlk_djcl','fid':'grxlk_djall','nj':1});\">订阅的策略</a></li><li class=\"c_center\"><a href=\"http://stock.10jqka.com.cn/my/collection.shtml\" target=\"_blank\" onclick=\"TA.log({'id':'grxlk_djsc','fid':'grxlk_djall','nj':1});\">收藏中心</a></li><li class=\"s_news\"><a href=\"http://t.10jqka.com.cn/newcircle/user/chatComment/\" target=\"_blank\" onclick=\"TA.log({'id':'grxlk_djxx','fid':'grxlk_djall','nj':1});\">我的消息</a></li></ul></div>";
f("body").append(f(b));c(f(b))}};f.fn.subMenu=function(a){return b.init.apply(this,arguments)}})(window,document,jQuery);
var locationhost=window.location.host,loginIssue={isLogin:function(){return 0<unescape(unescape(THS.cookie.get("escapename"))).length?!0:!1},getUser:function(){var g=[],e=unescape(unescape(THS.cookie.get("escapename")));0<e.length&&(g.uname=e);e=unescape(unescape(THS.cookie.get("userid")));if(0<e.length)g.userid=e,g.avatar="http://space.10jqka.com.cn/avatar/"+parseInt(e)%1E4+"/"+e+".gif";return g},getInfo:function(){if(loginIssue.isLogin()){var g=loginIssue.getUser().uname;$("#J_username").html(g);
$(".login-box").addClass("hide");$(".logined_box").removeClass("hide")}else $(".login-box").removeClass("hide"),$(".logined_box").addClass("hide");loginIssue.logOut()},logOut:function(){$(".homeloginout").click(function(){window.location.href=-1<locationhost.indexOf("10jqka.com.cn")?"https://upass.10jqka.com.cn/logout?redir=HTTP_REFERER":"https://upass.10jqka.com.cn/logout?redir="+encodeURIComponent("https://upass.300033.info/logout?redir="+encodeURIComponent(window.location.href))})}};
$(document).ready(function(){loginIssue.getInfo();$("#J_username").length&&($("head").append('<link rel="stylesheet" type="text/css" href="http://s.thsi.cn/css/ucenter/website/subMenu.min.css">'),$("#J_username").subMenu({container:"login-box",fresh:!0}))});
//@charset "gbk";
$(function(){
    //搜索信息\股票\百科
    $('.search-box .search-list a').click(function(){
        var index =  $('.search-box .search-list a').index($(this));
        $(this).addClass('cur').siblings().removeClass('cur');
        $('.search-box .search-main span').eq(index).show().siblings().hide();
    });
    $("#search-input-xx,#search-input-gp,#search-input-bk")
        .focus(function(){
            if (this.value == this.defaultValue) {
                this.value = '';
                $(this).parents().addClass('focus');
            }
        })
        .blur(function(){
            if (!this.value) {
                this.value = this.defaultValue
                $(this).parents().removeClass('focus');
            }
        })
        .keyup(function(e){
            if(e && e.keyCode == 13 && $(this).siblings('.search-btn').length > 0){
                $(this).siblings('.search-btn').trigger('click');
            }
        });
    $('#search-btn-xx,#search-btn-gp,#search-btn-bk').click(function(){
        var channel = $(this).attr('id').substr(-2,2);
        var $input = $('#search-input-' + channel);
        var txt = $.trim($input.val());
        var defaultValue = $input.get(0).defaultValue;
        txt = encodeURI(txt);
        defaultValue = encodeURI(defaultValue);
        if(txt != defaultValue && txt != ''){
            switch(channel){
                case 'xx':
                    window.open('http://www.iwencai.com/search?typed=1&preParams=&ts=1&f=1&qs=main_info&selfsectsn=&querytype=&searchfilter=&tid=info&w=' + txt);
                    break;
                case 'gp':
                    window.open('http://www.iwencai.com/stockpick/search?typed=1&preParams=&ts=1&f=1&qs=1&selfsectsn=&querytype=&searchfilter=&tid=stockpick&w=' + txt);
                    break;
                case 'bk':
                    window.open('http://www.iwencai.com/yike/search?typed=0&preParams=&ts=1&f=1&qs=query_recommend&selfsectsn=&querytype=&searchfilter=&tid=info&w=' + txt + '&isdetail=1')
                    break;
                default: break;
            }
        }
    });
});
$(function(){function d(){return 0<unescape(unescape(THS.cookie.get("escapename"))).length?!0:!1}var g=$(".inner-nav a").index($(".inner-nav a.cur")),c=$(".sub-nav");c.find("span").each(function(){$(this).attr("blockwidth",$(this).outerWidth())});c.hide();$(".inner-nav a").mouseenter(function(){$(this).addClass("cur").siblings().removeClass("cur");var a=$(this).attr("nav")+"-list",a=c.find("."+a);!1===d()?$(".js-login").hide():$(".js-login").show();if(0<a.length){var b=$(this).offset().left,e=$(".inner-nav a:last").offset().left+
$(".inner-nav a:last").outerWidth(),f=parseFloat(a.attr("blockwidth"));f+b>e&&(b=e-f,"more"===$(".inner-nav").find("a.cur").attr("nav")&&!1===d()&&(b+=85));c.css({top:55,left:b,zIndex:10}).show();a.show().siblings().hide()}else c.hide()}).click(function(){var a="r1c"+($(this).index()+1),b=$(this).attr("tid");TAN.log({id:totalPageId+"-switch-"+a+"-click-sta-"+b,ifjump:"1",url_ver:"THSNEWS-7105"})}).mousedown(function(a){if(3==a.which){var a="r1c"+($(this).index()+1),b=$(this).attr("tid");TAN.log({id:totalPageId+
"-switch-"+a+"-rclick-sta-"+b,ifjump:"1",url_ver:"THSNEWS-7105"})}});$(".sub-nav a").click(function(){var a="r"+($(this).index()+2)+"c"+($(this).closest("span").index()+1),b=$(this).attr("tid");TAN.log({id:totalPageId+"-switch-"+a+"-click-sta-"+b,ifjump:"1",url_ver:"THSNEWS-7105"})}).mousedown(function(a){if(3==a.which){var a="r"+($(this).index()+2)+"c"+($(this).closest("span").index()+1),b=$(this).attr("tid");TAN.log({id:totalPageId+"-switch-"+a+"-rclick-sta-"+b,ifjump:"1",url_ver:"THSNEWS-7105"})}});
$(".nav").mouseleave(function(){$(".inner-nav a").eq(g).addClass("cur").siblings().removeClass("cur");c.hide()})});
function setCookie(a,b,c){var d=new Date;d.setTime(d.getTime()+c);document.cookie=a+"="+escape(b)+";expires="+d.toGMTString()+";path=/;domain="+window.location.host}function getCookie(a){var b;return(b=document.cookie.match(RegExp("(^| )"+a+"=([^;]*)(;|$)")))?unescape(b[2]):null}function delCookie(a){var b=new Date;b.setTime(b.getTime()-1);var c=getCookie(a);if(null!=c)document.cookie=a+"="+escape(c)+";expires="+b.toGMTString()+";path=/;domain="+window.location.host}
function autocompleteSearch(){}
autocompleteSearch.prototype.init=function(a){$.extend(!0,this,{searchBox:".autosearch",searchBtn:".autosearch-btn"},a);var b=this;$(b.searchBox).focus(function(){if(this.value==this.defaultValue)this.value="",$(this).parents().addClass("focus");b.focusFunc&&"function"==typeof b.focusFunc&&b.focusFunc()}).blur(function(){if(!this.value)this.value=this.defaultValue,$(this).parents().removeClass("focus");b.blurFunc&&"function"==typeof b.blurFunc&&b.blurFunc()});var c={stock:!0,fund:!1,hk:!1,usa:!1,
extra:!1,stype:"new",clickFunc:[{run:function(a,c){b.clickCallback&&"function"==typeof b.clickCallback&&b.clickCallback(a,c)}}]},d;for(d in a.autoOpt)c[d]=a.autoOpt[d];$.fn.autocomplete&&$(b.searchBox).autocomplete(c)};$(document).on("click",".cell-tab a",function(){$(this).addClass("cur").siblings().removeClass("cur");var a=$(this).parent(".cell-tab"),a=(a.attr("targetbox")?a.closest(a.attr("targetbox")):a.closest(".cell-tab").parent()).children(".cell-cont"),b=$(this).index();a.hide();a.eq(b).show()});
var initRefresh=function(a){function b(){"on"==d?c=setInterval(function(){f--;a.countDom&&$(a.countDom).length&&$(a.countDom).html(f);0==f&&(a&&"function"==typeof a.callback?a.callback():location.reload(),f=g)},1E3):clearInterval(c);setCookie("refreshStat",d,864E5)}var c,d=$(".btn-refresh").attr("stat")||"on",e={on:"off",off:"on"},g=a.countTime||60,f=g;b();$(".btn-refresh").click(function(){d=e[d];$(".btn-refresh").attr("stat",d);b()})};function popItem(){}
popItem.prototype.setItem=function(a){1>$(this.relBox).find(".pop").length&&this.addPopDom();for(var a=a.split(","),b="",c=0;c<a.length;c++)if(a[c])var d=a[c].split(":"),b=b+('<a href="'+d[0]+'" target="_blank">'+d[1]+"</a>、");b=b.substr(0,b.length-1);this.popDom.find(".list").html(b)};
popItem.prototype.addPopDom=function(){var a=this,b=$('<div class="pop zIndex">    <span class="arr"></span>    <a href="javascript: void(0);" class="close"></a>    <div class="list"></div>    </div>');a.popDom=b;$(a.relBox).append(b);a.popDom.find(".close").click(function(){a.popDom.addClass("zIndex")})};
popItem.prototype.init=function(a){$.extend(!0,this,{btn:".pop-btn",relBox:".page-main"},a);var b=this;$(document).on("click",b.relBox+" "+b.btn,function(){var a=$(this).attr("data-item");b.setItem(a);b.popDom.css({top:$(this).position().top+$(this).outerHeight()/2-b.popDom.outerHeight()/2,left:$(this).position().left-b.popDom.outerWidth()-10}).removeClass("zIndex")})};
function iFrameHeight(a,b,c){function d(b){var c=document.frames?document.frames[a].document:b.contentDocument;if(null!=b&&null!=c)b.height=c.body.scrollHeight+10}var e=document.getElementById(a);e.src=b;e.attachEvent?e.attachEvent("onreadystatechange",function(){if("complete"===e.readyState||"loaded"==e.readyState)d(e),e.detachEvent("onreadystatechange",arguments.callee),"function"==typeof c&&c($("#"+a))}):e.addEventListener("load",function(){d(e);this.removeEventListener("load",arguments.call,!1);
"function"==typeof c&&c($("#"+a))},!1)}function newsLetter(){}newsLetter.prototype.getNewsletter=function(){var a=this;a.ajaxUrl&&$.ajax({url:a.ajaxUrl,type:a.ajaxType||"GET",success:function(b){b&&($(a.contDom).attr({href:b.url,target:"_blank"}),$(a.titleDom).html(b.title),$(a.summaryDom).html(b.summary),a.showTipbox())},error:function(){}})};
newsLetter.prototype.init=function(a){$.extend(!0,this,{box:".tipbox",contDom:".tipbox .comment",closeDom:".tipbox .close",titleDom:".tipbox .title",summaryDom:".tipbox .summary",hoverClass:"comment-hover",getNewsTime:3E5,closeTime:6E3,ajaxUrl:""},a);var b=this;$(b.contDom).mouseenter(function(){$(this).addClass(b.hoverClass)}).mouseleave(function(){$(this).removeClass(b.hoverClass)});$(b.closeDom).click(function(){b.hideTipbox();return!1});try{b.getNewsletter(),b.newsTimer=setTimeout(function(){b.getNewsletter()},
b.getNewsTime)}catch(c){}};newsLetter.prototype.showTipbox=function(){var a=this;a.bottom=-$(a.box).outerHeight();$(a.box).css({bottom:a.bottom,"z-index":"999"}).animate({bottom:"0px"});a.closeTimer=setTimeout(function(){a.hideTipbox()},a.closeTime)};newsLetter.prototype.hideTipbox=function(){clearInterval(this.closeTimer);$(this.box).animate({bottom:this.bottom},function(){$(this).css("z-index",-1)})};
$(document).on("click",".skipto",function(){var a=$("#catecode").val().toLocaleLowerCase(),b=this.name.split("#");$(this).attr("taid");hasclick=!0;$(this).addClass("cur").siblings().removeClass("cur");if(0<=b[0].toLocaleLowerCase().indexOf(a)){if(a=$("#"+b[1]),0<a.length)a=a.offset().top,$("html,body").animate({scrollTop:a-227},300,function(){hasclick=!1})}else window.location.href=this.name;return!1});var isIE6=function(){return document.all?0<navigator.userAgent.indexOf("MSIE 6.0")?!0:!1:!1};
if(!isIE6()){var pre_mbox_id="",$content=$(".page-main"),hasmouseover=!1,hasclick=!1;$(document).on("mouseover",".page-main",function(){hasmouseover=!0;var a=$(this).attr("id");a!=pre_mbox_id&&(setNavCurrent(a),pre_mbox_id=a);hasmouseover=!1});$(window).scroll(function(){if(!hasmouseover&&!hasclick){var a=$(window).scrollTop();$content.each(function(){if("undefined"!=typeof $(this).attr("id")){var b=$(this).offset().top,c=b+$(this).outerHeight();260>b-a&&260<c-a&&setNavCurrent($(this).attr("id"))}})}});
var setNavCurrent=function(a){a=$("#catecode").val()+".html#"+a;$('.skipto[name="'+a+'"]').addClass("cur").siblings(".skipto").removeClass("cur")}}function tableTool(){}
tableTool.prototype.trHover=function(a){$.extend(!0,this,{table:".m-table",hoverClass:"highlight"},a);var b=this,c=b.table+" tbody tr";$(document).on("mouseenter",c,function(){$(this).index();$(c).removeClass(b.hoverClass);$(this).addClass(b.hoverClass);b.enterCallback&&"function"==typeof b.enterCallback&&b.enterCallback($(this))}).on("mouseleave",c,function(){})};function fixedDomTool(){}
fixedDomTool.prototype.init=function(a){$.extend(!0,this,{},a);var b=$(this.dom),c,d=b.offset().top-(this.offsetH?this.offsetH:0),e=this.fixedClass;b.length&&(c=b.clone().html(""),c.addClass("placeholder").height(b.height()).hide(),b.after(c),$(window).scroll(function(){var a=$(window).scrollTop();a>d?thsInfo||(b.addClass(e),c.show()):a<d&&(b.removeClass(e),c.hide())}))};
function selReport(){}selReport.prototype.showList=function(){this.listDom.toggle()};
selReport.prototype.init=function(e){$.extend(!0,this,{box:".sel-report"},e);this.textDom=$(this.box).find(".text");this.textValDom=$(this.box).find(".text .text-value");this.listDom=$(this.box).find(".list");this.liDom=this.listDom.find("a");190<this.listDom.outerHeight()&&this.listDom.css({height:190,"overflow-y":"scroll"});var a=this;this.textDom.click(function(){a.showList()});this.listDom.click(function(){a.showList()});this.liDom.click(function(){var b=$(this).text(),c=$(this).attr("data-param"),
d={};if(a.textValDom.attr("data-param")!=c)a.textValDom.attr("data-param",c).text(b),d.date=c,d.val=b,a.callback&&"function"==typeof a.callback&&a.callback(d)}).mouseenter(function(){a.listDom.find("li").removeClass("cur");$(this).parents("li").addClass("cur")});$(document).bind("click",function(b){$(b.target).parents(a.box).length||a.listDom.hide()})};
function tableAjax(){}
tableAjax.prototype.init=function(a){if(!a.param)return!1;this.defaultParam=a.param;this.requestArr=[];for(var b in a.param)a.param[b]&&this.requestArr.push(b);$.extend(!0,this,{box:".page-main",cont:".ajaxBox",dataType:"html",tabElem:".table-tab",tabKey:"tab",tabClick:!0,tabSelClass:"cur",tableElem:".m-table thead tr",tableKey:"field",tableSortKey:"sort",tableClick:!0,tableSelClass:"cur",pagerElem:".m-pager",pagerKey:"page",pagerClick:!0,pagerSelClass:"cur"},a);this.tabClick&&this.tabClickEvent();
this.tableClick&&this.tableClickEvent();this.pagerClick&&this.pagerClickEvent();this.request&&this.changeContent()};
tableAjax.prototype.pagerClickEvent=function(){var a=this;$(this.box).find(this.pagerElem).children("[data-param]");$(this.box).on("click",this.pagerElem+" a[data-param]",function(b){for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);d=$(this).attr("data-exobj")?$(this).attr("data-exobj"):"";if($(this).hasClass(a.pagerSelClass))return!1;$(this).addClass(a.pagerSelClass).siblings().removeClass(a.pagerSelClass);a.setRequest(a.pagerKey,$(this).attr("data-param"),d);a.changeContent(c)})};
tableAjax.prototype.tableClickEvent=function(){var a=this;$(this.box).find(this.tableElem).children("[data-param]");var b={asc:"desc",desc:"asc"};$(this.box).on("click",this.tableElem+" th[data-param]",function(c){for(var d=[],e=1;e<arguments.length;e++)d.push(arguments[e]);e=$(this).attr("data-exobj")?$(this).attr("data-exobj"):"";$(this).hasClass(a.tableSelClass)?a.setRequest(a.tableSortKey,b[a.param[a.tableSortKey]],e):($(this).addClass(a.tabSelClass).siblings().removeClass(a.tabSelClass),a.setRequest(a.tableKey,
$(this).attr("data-param"),e));a.changeContent(d)})};tableAjax.prototype.tabClickEvent=function(){var a=this;$(this.box).on("click",this.tabElem+" a[data-param]",function(b){for(var c=[],d=1;d<arguments.length;d++)c.push(arguments[d]);d=$(this).attr("data-exobj")?$(this).attr("data-exobj"):"";if($(this).hasClass(a.tabSelClass))return!1;$(this).addClass(a.tabSelClass).siblings().removeClass(a.tabSelClass);a.setRequest(a.tabKey,$(this).attr("data-param"),d);a.changeContent(c)})};
tableAjax.prototype.addLoadingDom=function(){if(!this.loadingDom){var a=$('<div class="page-loading" style="display: none;">                    <div class="mask"></div>                    <div class="loading-img"></div>                </div>');this.loadingDom=a;this.loadElem?$(this.loadElem).prepend(a):$(this.cont).prepend(a)}};tableAjax.prototype.getLength=function(a){var b=typeof a;if("string"==b)return a.length;if("object"==b){var b=0,c;for(c in a)b++;return b}return!1};
tableAjax.prototype.setRequest=function(a,b,c){if("ajaxUrl"==a)return this.ajaxUrl=b,!1;this.ajaxUrl="";this.param[a]=b;for(b=0;b<this.requestArr.length&&!(this.requestArr[b]==a);b++);for(b++;b<this.requestArr.length;b++)a=this.requestArr[b],this.param[a]=this.defaultParam[a];try{c=c.split(";");a={};for(b=0;b<c.length;b++){var d=c[b];d&&(d=d.split(":"),a[d[0]]=d[1])}for(var e in a)this.param[e]=a[e]}catch(f){}};
tableAjax.prototype.getRequest=function(){var a=this.requestQuery?"?"+this.requestQuery:"",b=[],c;for(c in this.param)this.param[c]&&b.push(c+"/"+this.param[c]);return b.join("/")+"/"+a};
tableAjax.prototype.changeContent=function(a){var b;this.ajaxUrl&&0<this.ajaxUrl.length?b=this.ajaxUrl:(b=this.getRequest(),b=this.baseUrl?this.baseUrl+"/"+b:"/"+b);var c=this;this.addLoadingDom();c.loadingDom.show();$.ajax({url:b,type:"GET",dataType:c.dataType,success:function(b){c.callback&&"function"==typeof c.callback?c.callback(b,a):"html"==c.dataType&&$(c.cont).html(b);c.loadingDom.hide()}})};
